---
title: "연관성의 측도"
format: html
---

> Reporting Date: October, 2025

## 01 연관성의 측도
`Association Measures`
두 변수 간 관계의 정도와 강도를 파악할 때 사용되는 통계적 지표를 총칭한다.

특히 명목형(범주형) 변수의 경우, 단순히 유의성 검정(p-value)만으로는 관계의 강도를 알 수 없으므로,
파이계수(ϕ), 분할계수(C), 크라머의 V 등 다양한 연관성 측도를 활용한다.

연관성 척도 중 일부 지표는 순서형 변수에 특히 적합하다(예: 스피어만 상관계수).

즉, 단순히 "관련이 있는가? 를 넘어 "관련이 있다면, 그 강도는 어느 정도인가?"를 정량적으로 평가하는 것이 목적이다.
앞서 코호트 및 사례 대조 연구에서는 오즈비(OR)를 통해 사건 발생과 노출 간의 연관성을 평가하였다.

이번 장에서는 이를 확장하여, 범주형 변수 전반에서의 연관성 강도를 정량적으로 측정하는 대표적 지표들을 살펴본다.

## 1. 파이계수
`Phi Coefficient`
두 명목형 변수 간의 관계의 강도를 측정한다.
주로 2×2 교차표에 사용되며, 상관계수(Pearson’s r)와 유사한 해석이 가능하다.

값의 범위는 \(-1 ≤ ϕ ≤ +1\)이다.

 0 : 독립적 관계
+1: 완전한 양의 관계
−1: 완전한 음의 관계

$$\phi = \frac{ad - bc}{\sqrt{(a+b)(c+d)(a+c)(b+d)}}$$

여기서, a, b, c, d는 교차표의 각 셀 값이다.

## 2. 분할계수
`Contingency Coefficient, C`
2×2 이상 교차표에서 변수 간 연관성을 평가하는 지표로, 파이계수의 확장으로 이해 가능할 수 있다.
값의 범위는 \(0 ≤ C < 1\)이다.

0: 독립적 관계
1에 가까울수록 강한 의존 관계(강한 연관성)
단, 교차표의 크기가 커질수록 C의 최대값이 1 보다 작아지므로 지표 간 비교 시 주의가 필요하다.

## 3. 크라머의 V
`Cramér's V`
n×m 형태 교차표에서 변수 간 연관성을 표준화된 형태로 측정한다.
파이계수의 일반화된 형태이며, 교차표의 크기 차이를 보정하여 표준화된 연관성 강도를 제공한다.

값의 범위는 \(0 ≤ V ≤ 1\)이다.

0: 독립적 관계
1: 완전한 연관 관계

$$V = \sqrt{\frac{\chi^2}{n \cdot \min(k-1, r-1)}}$$

χ²: 카이제곱 통계량
n: 총 샘플 수
k: 행 개수, r: 열 개수

[요약 비교표]
지표	적용 교차표 형태	값의 범위	관계 방향	표준화 여부	비고
파이계수 (ϕ)	2×2	−1 ~ +1	가능	X	상관계수와 유사
분할계수 (C)	2×2 이상	0 ~ 1 미만	불가능	X	표 크기 커지면 1 미만
크라머의 V	n×m	0 ~ 1	불가능	O	표준화된 강도 비교 가능

---

# 02 명목형 변수들의 연관성
앞 장에서는 파이계수(ϕ), 분할계수(C), 크라머의 V 등을 통해
범주형 변수 간의 관계 강도를 정량적으로 측정하였다.

이번 장에서는 그중에서도 명목형 변수 간의 예측력 기반 연관성을 나타내는 지표인 람다(Lambda)를 살펴본다.

## 1. 개념 개요
람다는 두 명목형 변수 간의 관계를, 한 변수를 이용해 다른 변수를 얼마나 정확히 예측할 수 있는가로 표현한다.
즉, "A 변수를 알고 있을 때 B의 예측 오류가 얼마나 감소하는가" 를 통해 변수 간의 연관성을 측정한다.
람다는 두 가지 형태로 구분된다.

비대칭 람다 (Asymmetric Lambda): 한 변수를 기준으로 다른 변수를 예측할 때 사용
대칭 람다 (Symmetric Lambda): 두 변수의 관계를 방향성 없이 측정할 때 사용

# 2. 비대칭 람다
`Asymmetric Lambda`
한 변수를 기준으로 다른 변수를 예측할 때의 오류 감소 비율을 계산한다.
즉, 기준 변수(행 또는 열)의 정보가 주어졌을 때 예측 오류가 얼마나 줄어드는가를 측정한다.

$$
\lambda = \frac{E_1 - E_2}{E_1}
$$​​

\(E_1:\)​ 기준 변수의 정보를 사용하지 않았을 때의 예측 오류
\(E_2:\)​ 기준 변수의 정보를 사용했을 때의 예측 오류
λ가 0이면 두 변수 간 연관성이 없으며,
λ가 1에 가까울수록 기준 변수를 통해 다른 변수를 더 정확히 예측 가능하다는 의미다.

## 3. 대칭 람다
`Symmetric Lambda`
두 변수 간의 관계를 방향성 없이, 즉 서로 동등하게 평가하는 방법이다.
비대칭 람다를 각각 계산한 후 평균을 취하여 구한다.

$$
\lambda_s = \frac{(\lambda_{A|B} + \lambda_{B|A})}{2}
$$

이 값이 클수록 두 변수는 상호 예측력이 높아 강한 연관성을 가짐을 의미한다.

---

# 03 순서형 변수의 연관성 측정
MH 카이제곱을 사용하여 연관성을 분석할 수 있다.
두 순서형 변수 간의 관계를 측정하는 데 유용한 방법입니다.

## 1. 감마 계수
`Gamma Coefficient`

순서형 변수에서 감마 계수를 사용하여 두 변수 간의 단조 관계를 분석할 수 있다.
감마 계수는 일치쌍과 비일치쌍의 수를 통해 계산됩니다.

일치쌍: 지위가 높을 때 만족하는 경우 (내가 세운 가설)
비일치쌍: 지위가 높을 때 불만족하는 경우 (가설과 반대되는 것.)

감마 계수는 -1에서 +1 사이의 값을 가진다.
+1은 완전한 양의 일치, -1은 완전한 음의 일치를 의미합니다.
0은 관련성이 없음을 의미한다.

코드: 학력의 따른 비율
상관계수 서로의 영향이 높지 않음, 약간의 영향
두 순서형 변수의 선형적 연관성 검정
수치적으로는 났지만 연관성은 있다.
감마계수 계산은 파이썬에서 제공을 하지 않는다.

## 2. 심프슨의 역설
`Simpson's Paradox`
제3의 변수가 두 변수 간의 관계에 영향을 미칠 수 있다는 개념이다.
즉, 제3의 변수가 없을 경우에는 관계가 보였던 두 변수 간의 연관성이, 제3의 변수를 포함하면 역으로 나타날 수 있습니다.

예를 들어, 흡연과 폐암 간의 관계를 분석할 때,
연령대라는 변수에 따라 두 변수 간의 관계가 다르게 해석될 수 있습니다.

심프슨의 역설을 방지하기 위해서는 분석 시 제3의 변수를 항상 고려하는 것이 중요합니다.

남여의 대학원 합격율이 전체에서 10% 차이가 남
이에 대해 버클리 대학원 관계자들은 합격율을 전공 별로 변수를 봄.
오히려 합격율이 남성이 더 높았음, 이는 지원자의 비가 8:1로 차이가 났기 때문.

IQ와 알코올의 관계에서
저연령과 고령령 변수를 넣으니 고지능자가 덜 술을 마신다는 것.

---

교제: 파이썬을 활용한 데이터 분석과 응용