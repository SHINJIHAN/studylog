{"title":"제 10장 분산분석: 이원분류 실습","markdown":{"yaml":{"title":"제 10장 분산분석: 이원분류 실습","format":"html"},"headingText":"01 반복이 없는 이유","containsRefs":false,"markdown":"\n\n> Reporting Date: August. 5, 2024\n이원분류 분산분석에 대해 다루고자 한다.\n\n\n\n 1 .  반복이 없는 경우\n# 반복을 하지 않는 것도 가능하다.\n# 처치수준의 2개면 교오작용은 일어날 수 없다.\n# 각각의 순수자기자신의 효과만을 볼 수 있다.\n# 각각의 기각역이 생긴다.\n\n예를 들면, 자동차이기 때문에 많이 반복하질 못했다.\n\n일반적인 이원 분산 분석은 교오 작용 식이 존재한다.\n그러나 임의화완전블록설계에선 교오 작용 식이 존재하지 않는다.\n\n고객이 각각의 제품에 대해 어느 수준으로 평가할 것인가?\n여기서, 어떤 제품 간의 관계가 같으냐 다르냐는 의미가 없음\n\n각각 2개의 가설검증이 있어야 한다.\n\n블록으로 처리해서 순수한 처치들에 대한 효과를 보겠다는 것\n반복이 생길 땐 교오작용이 생김\n\nimport os\nimport pandas as pd\n\n# 상대 경로 설정\nfile_path = os.path.join('data', 'Usage.csv')\n\n# CSV 파일 읽기\nUsage = pd.read_csv(file_path)\n\n# 데이터 확인\nUsage.head(5)\n\n제품 혹은 소비자에 따라서 선호도의 차이가 있는가? 를 볼려고 하는 것이다.\n소비자도 처치로 놓을 수 있다. 실무에서는 소비자의 개인보다는 그룹일 가능성이 더 높으며 그게 더 맞다.\n그리고 고객을 대상으로도 반복이 없는 분석 진행이 생각보다 많다.\n\n\n\n총변동은 변함이 없는데 이를 계산은 SSA, SSB, SSE로 나뉜다\n시그마a 시그마b ( yij  - y헷.. )^2 =  시그마a 시그마b (yij - y헷i. + y헷i. + y헷.j - y헷.j + y헷..)^2 를 기준으로 식이 출발한다.\n이 식은 2가지로 묶에서 더한 식으로 진행하고 지워지는 것을 지우면 y헷.. 만이 남을 것이다.\n이것은 각 A, B의 평균의 차이를 보이는 총변동을 보려하려는 것.\n\n평균제곱합은 3가지, F값은 2가지가 나와야 한다.\n반복이 없을 때에는 교오작용이 들어가지 않는다. 왜?\n\nfrom bioinfokit.analys import stat\nres = stat()\nres.anova_stat(df = Usage, res_var = 'Prefer',\n              anova_model = 'Prefer~C(Customer)+Product', ss_typ=3)\nres.anova_summary\n\n소비자에 대한 효과는 없고, 제품에 대한 효과만 있다.\n\n\n\nC = 5 - 1\nR = 전체 샘플 사이즈 - 모든 자유도 = 20 - 6 = 12\n3 나누기 126 = 38\n\n수준에 따라 차이가 있다면 어느 제품의 수준이 가장 좋은가?\n\n따라서 기초통계량으로 어느 곳에 차이가 나는지를 보았다.\n\nUsage.groupby(\"Product\").agg({\"Prefer\":[\"mean\", \"std\", \"min\", \"max\"]})\n\n선호 점수의 차이가 있다. A1을 가장 선호한다. \n여기서 끝내지 않고, 어디에서 차이가 나는지를 확인하기 위해 다중비교를 한다.\n\nres.tukey_hsd(df=Usage, res_var = 'Prefer', xfac_var='Product',\n             anova_model='Prefer~C(Customer)+Product')\nres.tukey_summary\n0번과 2번은 차이가 있다. 나머지 차이가 없다는 건 사실상 같은 그룹으로 묶어도 된다는 의미이다.\n\nfrom statsmodels.stats.multicomp import pairwise_tukeyhsd\n\nres = stat()\ndf = pd.DataFrame(Usage)\nres.tukey_summary = pairwise_tukeyhsd(endog = df['Prefer'], \n                                      groups = df['Product'], alpha = 0.05)\nprint(res.tukey_summary)\n\n여기까지가 반복이 없는 경우이다.\n\n\n\n01 반복이 있는 경우\n2p 실험설계\n\n\n 2 .  반복이 있는 경우\ny11r: 1번만 한 것이 아니라 r번씩 반복한 것.\n분산분석표에서 상호작용(SSAB)가 존재한다.\n3개의 요인을 분석만 해도, 모델은 기하급수적으로 복잡해진다.\n\n그러나 사실 변수의 개수가 3라고 해도 별로 특별한 이유가 아니다.\n그러니 다른 분석 기법에 비해 해석 방법이 매우 복잡한 것이 그 이유이다.\n\n여기선 교오작용에 대한 효과도 고려한다. 식에도 포함된다.\nF통계량도, 귀무가설도 3개로 늘어난다.\n\nA, B, C 디자인에 대한 대, 중, 소 도시\n지역에 따라 어떤 디자인이 먹힐 것인가?\n\n판매한 결과를 표로 작성하였다.\n데이터를 먼저 설계하는 것이 가장 중요하다.\n\nimport os\nimport pandas as pd\n\n# 상대 경로 설정\nfile_path = os.path.join('data', 'Market.csv')\n\n# CSV 파일 읽기\nMarket = pd.read_csv(file_path)\n\n# 데이터 확인\nMarket.head(5)\n\n12개의 관측치, 디자인과 도시, 판매량\n여기서 반복인지 아닌지 알수 있어야 한다.\n\n기초 통계량\n\nMarket.groupby(\"City\").agg({\"Sales\":[\"mean\", \"std\", \"min\", \"max\"]})\n\n도시에서는 차이가 나는 지 잘 모르겠다.\n\n기초 통계량\n\nMarket.groupby(\"Design\").agg({\"Sales\":[\"mean\", \"std\", \"min\", \"max\"]})\n\n\n\n교오작용 확인하기.\n\nMarket.groupby([\"City\", \"Design\"]).agg({\"Sales\":[\"mean\", \"std\", \"min\", \"max\"]})\n\n순수하게 보았을 때에는 차이가 보이지 않았으나, 둘이서 같이 보니\n소도시에서 A와 C에서 차이가 나는 것을 확인할 수 있다. 교오작용을 존재할 수도 있겠다고 \n차이가 난다고 추측할 수 있다. 이런 식으로 근거를 찾는 탐색적 분석이 필요하다.\n\n모든 분석은 전체적인 스케치를 한 다음에 모델을 적용하는 것이다.\n아래는 개별 도시와 그것에 합친 교오작용 그래프\n\nMarket.boxplot(\"Sales\", by = \"City\")\nMarket.boxplot(\"Sales\", by = \"Design\")\nMarket.boxplot(\"Sales\", by = [\"City\", \"Design\"])\n\n\n\n\n\n중위수가 박스의 윗쪽에 있으므로, \n\n\n\n\nB디자인을 더 선호한다.\n\n\n\n\n\n\n시티를 먼저 썼으므로, 대중소가 차례로 나온다.\n가장 많은 것은 중도시의 B이다.\n\n대도시와 소도시는 서로 다른 패턴을 보인다.\n\n\n\n\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nsns.pointplot(x=\"City\", y=\"Sales\", color='red', data = Market)\nsns.pointplot(x=\"Design\", y=\"Sales\", color='green', data = Market)\n\nB가 가장 높은 것을 알 수 있다.\n\n\n\n\n\n분산분석 실시\n\nfrom bioinfokit.analys import stats\nres = stat()\nres.anova_stat(df = Market, res_var = 'Sales',\n\t\t\t  # City:Design: 교오작용\n              anova_model = 'Sales ~ City + Design + City:Design', ss_typ = 3)\nres.anova_summary\n\n교오작용은 콜론(:)으로 쓴다.\n여기도 책에 문제가 있음, 확실한 차이가 존재함을 알 수 있음\n디자인에 차이가 있고, 디자인과 도시간 교오작용에서도 차이가 있다.\n\nsns.pointplot(x=\"City\", y=\"Sales\", hue = \"Design\", ci = 0, data = Market,\n             markers = [\"o\", \"*\", \"s\"], linestyles = [\"-\", \"--\", \":\"])\n\n겹치는 부분이 존재하므로, 교오작용이 존재한다.\n여러가지 일은 하는 것보다 한가지만을 특화해서 하는 것도 방법이다.;\n그렇지 않고 모두 떨어지거나 모두 올라가면 교오 작용이 없는 것이다.\n\n\n\n01 3원 분류\n잔차를 포함해서 2의 3승 개의 \n이 분산분석표의 교오작용이 있다면 이것으로도 만족되지만\ntukey는 더 명확하게 보고 싶으면 하는 방법이다. 꼭 사용해야만 하는 방법은 아니고 추가 지표이다.\n이런 건 스마트 팩토리, 바이오 분야에서 더 많이 쓰이고, 실제 실무에선 많이 쓰이진 않을 수 있다.\n그리고 여기서도 변수의 수가 많다고 무조건 과적합이 발생된다고 단정하면 안된다.\n실무에선 20-30개 변수를 사용하는 건 기본이지만서도 분산분석에서는 그렇게 많이도 하진 않는다.\n비용대비 결과가 만족스럽게 나오진 않기에. 그래도 적어도 변수는 3-5개까지는 한다는 것이다.\n그리고 교오 작용에서도 몇 번째의 각각 ABC이냐까지 고려 해야 한다.\n\n반복이 없는 경우\n\n반복이 있는 경우\n\n\n\n공분산 분석\n\n처리요인이 아니면서 반응변수에 영향을 주는 요인을 교락요인이란 한다.\n교략요인은 범주형(그룹형, 블록) 형태와 연속형(공변량)인 경우가 있음\n이럴 경우, 적용하는 것이 공분산 분석이다.\n\n이 공변량을 모형에 추가적인 설명변수로 삽입하여\n그 효과를 제거했다면 그런 영향을 주는 공변량 변동을 미리 제거하여 순수한 처리효과를 파악하고자 하는 통계적 기법\n실험 정도를 높이고, 실험의 편의를 높이기 위해 사용한다.\n\n참고로 범주형일 땐 공분산 분석을 할 수 없음.\n\n예제: 심리 점수 데이터 20명의 사람을 10명 씩 두 개의 집단으로 나눈 다음, \n기존 방법과 신규 방법으로 공부를 한 다음 심리 점수를 측정하였다.\n\n사람의 나이 데이터는 연속형 데이터이다. 그러나 이것은 처치요인은 아니므로,\n이러한 것을 교략요인이자 공변량이라고 부르는 것이며 이때, 공분산 분석을 하는 것이다.\n\n그래서 먼저 아무것도 하지 않는 비교 집단을 기존방법1 실험 집단을 신규방법2으로 한다.\n이것을 아노바로 하는 것은 과하다. t 검정 (분산 분석)을 먼저 한다. 그래서 식을 세운다. \n집단 1, 2의 평균을 구한 뒤 각 평균의 차이를 계산한다.\n\n이번엔 공분산 분석을 한다. 이때 여기선 베타x1j라는 나이 변수를 넣었다.\n\nimport os\nimport pandas as pd\n\n# 상대 경로 설정\nfile_path = os.path.join('data', 'Ancova.csv')\n\n# CSV 파일 읽기\nAncova = pd.read_csv(file_path)\n\n# 데이터 확인\nAncova.head(5)\n\n\n\n\n\nimport statsmodels.api as sm\nimport statsmodels.formula.api as smf\nAncovaFit = smf.ols(formula = 'Score~Age+C(Group)', data = Ancova).fit()\nAncovaFit.summary()\n\n이를 통해 공분산 분석을 진행하였다. 결과적으로 아노바 분석을 진행하였고, ----\n타입 3이 이야기 해야 함 + 군집 분석 까지.\n\n변수를 한꺼번에 넣는 게 아니라 타입1은 순서대로 넣어서 테이블을 만듦\n원way에서는 상관없고 투way부터 상호작용이 생기는 데 이를 존재하지 않다고 말하는 게 타입 2이다.\n메인 효과만 고려. 상호작용까지 고려하는 게 타입3 이다. 그래서 타입3를 대부분 사용하는 것이다.\n\n언발라스드 디자인, 이란 셀의 크기가 다를 경우, 를 의미한다.\n일부 셀에 데이터가 없는 경우에 타입에 따라서 결과값이 달라진다. 그럴땐 타입3를 사용하는 것이 적절하다.\n또한 유닉크 효과 테스팅, 순수한 자기 효과만을 보여준다는 것이다.\n\n\n\n\n\nsm.stats.anova_lm(AncovaFit, typ = 3)\n\n\n\n\n\nAncova.groupby(\"Group\").agg({\"Score\":[\"mean\", \"std\", \"min\", \"max\"]})\n\n\n\n\n\nControl = Ancova[Ancova['Group'] == 1]\nTreatment = Ancova[Ancova['Group'] == 2]\n\nfrom statsmodels.stats.weightstats import ttest_ind\nttest_ind(Control['Score'], Treatment['Score'], alternative='smaller', \n          usevar='pooled')\n\n\n\n\n\nimport statsmodels.formula.api as smf\nAncovaFit1 = smf.ols(formula = 'Score~Age+C(Group)+Age:C(Group)',\n                    data = Ancova).fit()\nAncovaFit.summary()\n\n---\n\n교제: 파이썬을 활용한 데이터 분석과 응용","srcMarkdownNoYaml":"\n\n> Reporting Date: August. 5, 2024\n이원분류 분산분석에 대해 다루고자 한다.\n\n# 01 반복이 없는 이유\n\n\n 1 .  반복이 없는 경우\n# 반복을 하지 않는 것도 가능하다.\n# 처치수준의 2개면 교오작용은 일어날 수 없다.\n# 각각의 순수자기자신의 효과만을 볼 수 있다.\n# 각각의 기각역이 생긴다.\n\n예를 들면, 자동차이기 때문에 많이 반복하질 못했다.\n\n일반적인 이원 분산 분석은 교오 작용 식이 존재한다.\n그러나 임의화완전블록설계에선 교오 작용 식이 존재하지 않는다.\n\n고객이 각각의 제품에 대해 어느 수준으로 평가할 것인가?\n여기서, 어떤 제품 간의 관계가 같으냐 다르냐는 의미가 없음\n\n각각 2개의 가설검증이 있어야 한다.\n\n블록으로 처리해서 순수한 처치들에 대한 효과를 보겠다는 것\n반복이 생길 땐 교오작용이 생김\n\nimport os\nimport pandas as pd\n\n# 상대 경로 설정\nfile_path = os.path.join('data', 'Usage.csv')\n\n# CSV 파일 읽기\nUsage = pd.read_csv(file_path)\n\n# 데이터 확인\nUsage.head(5)\n\n제품 혹은 소비자에 따라서 선호도의 차이가 있는가? 를 볼려고 하는 것이다.\n소비자도 처치로 놓을 수 있다. 실무에서는 소비자의 개인보다는 그룹일 가능성이 더 높으며 그게 더 맞다.\n그리고 고객을 대상으로도 반복이 없는 분석 진행이 생각보다 많다.\n\n\n\n총변동은 변함이 없는데 이를 계산은 SSA, SSB, SSE로 나뉜다\n시그마a 시그마b ( yij  - y헷.. )^2 =  시그마a 시그마b (yij - y헷i. + y헷i. + y헷.j - y헷.j + y헷..)^2 를 기준으로 식이 출발한다.\n이 식은 2가지로 묶에서 더한 식으로 진행하고 지워지는 것을 지우면 y헷.. 만이 남을 것이다.\n이것은 각 A, B의 평균의 차이를 보이는 총변동을 보려하려는 것.\n\n평균제곱합은 3가지, F값은 2가지가 나와야 한다.\n반복이 없을 때에는 교오작용이 들어가지 않는다. 왜?\n\nfrom bioinfokit.analys import stat\nres = stat()\nres.anova_stat(df = Usage, res_var = 'Prefer',\n              anova_model = 'Prefer~C(Customer)+Product', ss_typ=3)\nres.anova_summary\n\n소비자에 대한 효과는 없고, 제품에 대한 효과만 있다.\n\n\n\nC = 5 - 1\nR = 전체 샘플 사이즈 - 모든 자유도 = 20 - 6 = 12\n3 나누기 126 = 38\n\n수준에 따라 차이가 있다면 어느 제품의 수준이 가장 좋은가?\n\n따라서 기초통계량으로 어느 곳에 차이가 나는지를 보았다.\n\nUsage.groupby(\"Product\").agg({\"Prefer\":[\"mean\", \"std\", \"min\", \"max\"]})\n\n선호 점수의 차이가 있다. A1을 가장 선호한다. \n여기서 끝내지 않고, 어디에서 차이가 나는지를 확인하기 위해 다중비교를 한다.\n\nres.tukey_hsd(df=Usage, res_var = 'Prefer', xfac_var='Product',\n             anova_model='Prefer~C(Customer)+Product')\nres.tukey_summary\n0번과 2번은 차이가 있다. 나머지 차이가 없다는 건 사실상 같은 그룹으로 묶어도 된다는 의미이다.\n\nfrom statsmodels.stats.multicomp import pairwise_tukeyhsd\n\nres = stat()\ndf = pd.DataFrame(Usage)\nres.tukey_summary = pairwise_tukeyhsd(endog = df['Prefer'], \n                                      groups = df['Product'], alpha = 0.05)\nprint(res.tukey_summary)\n\n여기까지가 반복이 없는 경우이다.\n\n\n\n01 반복이 있는 경우\n2p 실험설계\n\n\n 2 .  반복이 있는 경우\ny11r: 1번만 한 것이 아니라 r번씩 반복한 것.\n분산분석표에서 상호작용(SSAB)가 존재한다.\n3개의 요인을 분석만 해도, 모델은 기하급수적으로 복잡해진다.\n\n그러나 사실 변수의 개수가 3라고 해도 별로 특별한 이유가 아니다.\n그러니 다른 분석 기법에 비해 해석 방법이 매우 복잡한 것이 그 이유이다.\n\n여기선 교오작용에 대한 효과도 고려한다. 식에도 포함된다.\nF통계량도, 귀무가설도 3개로 늘어난다.\n\nA, B, C 디자인에 대한 대, 중, 소 도시\n지역에 따라 어떤 디자인이 먹힐 것인가?\n\n판매한 결과를 표로 작성하였다.\n데이터를 먼저 설계하는 것이 가장 중요하다.\n\nimport os\nimport pandas as pd\n\n# 상대 경로 설정\nfile_path = os.path.join('data', 'Market.csv')\n\n# CSV 파일 읽기\nMarket = pd.read_csv(file_path)\n\n# 데이터 확인\nMarket.head(5)\n\n12개의 관측치, 디자인과 도시, 판매량\n여기서 반복인지 아닌지 알수 있어야 한다.\n\n기초 통계량\n\nMarket.groupby(\"City\").agg({\"Sales\":[\"mean\", \"std\", \"min\", \"max\"]})\n\n도시에서는 차이가 나는 지 잘 모르겠다.\n\n기초 통계량\n\nMarket.groupby(\"Design\").agg({\"Sales\":[\"mean\", \"std\", \"min\", \"max\"]})\n\n\n\n교오작용 확인하기.\n\nMarket.groupby([\"City\", \"Design\"]).agg({\"Sales\":[\"mean\", \"std\", \"min\", \"max\"]})\n\n순수하게 보았을 때에는 차이가 보이지 않았으나, 둘이서 같이 보니\n소도시에서 A와 C에서 차이가 나는 것을 확인할 수 있다. 교오작용을 존재할 수도 있겠다고 \n차이가 난다고 추측할 수 있다. 이런 식으로 근거를 찾는 탐색적 분석이 필요하다.\n\n모든 분석은 전체적인 스케치를 한 다음에 모델을 적용하는 것이다.\n아래는 개별 도시와 그것에 합친 교오작용 그래프\n\nMarket.boxplot(\"Sales\", by = \"City\")\nMarket.boxplot(\"Sales\", by = \"Design\")\nMarket.boxplot(\"Sales\", by = [\"City\", \"Design\"])\n\n\n\n\n\n중위수가 박스의 윗쪽에 있으므로, \n\n\n\n\nB디자인을 더 선호한다.\n\n\n\n\n\n\n시티를 먼저 썼으므로, 대중소가 차례로 나온다.\n가장 많은 것은 중도시의 B이다.\n\n대도시와 소도시는 서로 다른 패턴을 보인다.\n\n\n\n\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nsns.pointplot(x=\"City\", y=\"Sales\", color='red', data = Market)\nsns.pointplot(x=\"Design\", y=\"Sales\", color='green', data = Market)\n\nB가 가장 높은 것을 알 수 있다.\n\n\n\n\n\n분산분석 실시\n\nfrom bioinfokit.analys import stats\nres = stat()\nres.anova_stat(df = Market, res_var = 'Sales',\n\t\t\t  # City:Design: 교오작용\n              anova_model = 'Sales ~ City + Design + City:Design', ss_typ = 3)\nres.anova_summary\n\n교오작용은 콜론(:)으로 쓴다.\n여기도 책에 문제가 있음, 확실한 차이가 존재함을 알 수 있음\n디자인에 차이가 있고, 디자인과 도시간 교오작용에서도 차이가 있다.\n\nsns.pointplot(x=\"City\", y=\"Sales\", hue = \"Design\", ci = 0, data = Market,\n             markers = [\"o\", \"*\", \"s\"], linestyles = [\"-\", \"--\", \":\"])\n\n겹치는 부분이 존재하므로, 교오작용이 존재한다.\n여러가지 일은 하는 것보다 한가지만을 특화해서 하는 것도 방법이다.;\n그렇지 않고 모두 떨어지거나 모두 올라가면 교오 작용이 없는 것이다.\n\n\n\n01 3원 분류\n잔차를 포함해서 2의 3승 개의 \n이 분산분석표의 교오작용이 있다면 이것으로도 만족되지만\ntukey는 더 명확하게 보고 싶으면 하는 방법이다. 꼭 사용해야만 하는 방법은 아니고 추가 지표이다.\n이런 건 스마트 팩토리, 바이오 분야에서 더 많이 쓰이고, 실제 실무에선 많이 쓰이진 않을 수 있다.\n그리고 여기서도 변수의 수가 많다고 무조건 과적합이 발생된다고 단정하면 안된다.\n실무에선 20-30개 변수를 사용하는 건 기본이지만서도 분산분석에서는 그렇게 많이도 하진 않는다.\n비용대비 결과가 만족스럽게 나오진 않기에. 그래도 적어도 변수는 3-5개까지는 한다는 것이다.\n그리고 교오 작용에서도 몇 번째의 각각 ABC이냐까지 고려 해야 한다.\n\n반복이 없는 경우\n\n반복이 있는 경우\n\n\n\n공분산 분석\n\n처리요인이 아니면서 반응변수에 영향을 주는 요인을 교락요인이란 한다.\n교략요인은 범주형(그룹형, 블록) 형태와 연속형(공변량)인 경우가 있음\n이럴 경우, 적용하는 것이 공분산 분석이다.\n\n이 공변량을 모형에 추가적인 설명변수로 삽입하여\n그 효과를 제거했다면 그런 영향을 주는 공변량 변동을 미리 제거하여 순수한 처리효과를 파악하고자 하는 통계적 기법\n실험 정도를 높이고, 실험의 편의를 높이기 위해 사용한다.\n\n참고로 범주형일 땐 공분산 분석을 할 수 없음.\n\n예제: 심리 점수 데이터 20명의 사람을 10명 씩 두 개의 집단으로 나눈 다음, \n기존 방법과 신규 방법으로 공부를 한 다음 심리 점수를 측정하였다.\n\n사람의 나이 데이터는 연속형 데이터이다. 그러나 이것은 처치요인은 아니므로,\n이러한 것을 교략요인이자 공변량이라고 부르는 것이며 이때, 공분산 분석을 하는 것이다.\n\n그래서 먼저 아무것도 하지 않는 비교 집단을 기존방법1 실험 집단을 신규방법2으로 한다.\n이것을 아노바로 하는 것은 과하다. t 검정 (분산 분석)을 먼저 한다. 그래서 식을 세운다. \n집단 1, 2의 평균을 구한 뒤 각 평균의 차이를 계산한다.\n\n이번엔 공분산 분석을 한다. 이때 여기선 베타x1j라는 나이 변수를 넣었다.\n\nimport os\nimport pandas as pd\n\n# 상대 경로 설정\nfile_path = os.path.join('data', 'Ancova.csv')\n\n# CSV 파일 읽기\nAncova = pd.read_csv(file_path)\n\n# 데이터 확인\nAncova.head(5)\n\n\n\n\n\nimport statsmodels.api as sm\nimport statsmodels.formula.api as smf\nAncovaFit = smf.ols(formula = 'Score~Age+C(Group)', data = Ancova).fit()\nAncovaFit.summary()\n\n이를 통해 공분산 분석을 진행하였다. 결과적으로 아노바 분석을 진행하였고, ----\n타입 3이 이야기 해야 함 + 군집 분석 까지.\n\n변수를 한꺼번에 넣는 게 아니라 타입1은 순서대로 넣어서 테이블을 만듦\n원way에서는 상관없고 투way부터 상호작용이 생기는 데 이를 존재하지 않다고 말하는 게 타입 2이다.\n메인 효과만 고려. 상호작용까지 고려하는 게 타입3 이다. 그래서 타입3를 대부분 사용하는 것이다.\n\n언발라스드 디자인, 이란 셀의 크기가 다를 경우, 를 의미한다.\n일부 셀에 데이터가 없는 경우에 타입에 따라서 결과값이 달라진다. 그럴땐 타입3를 사용하는 것이 적절하다.\n또한 유닉크 효과 테스팅, 순수한 자기 효과만을 보여준다는 것이다.\n\n\n\n\n\nsm.stats.anova_lm(AncovaFit, typ = 3)\n\n\n\n\n\nAncova.groupby(\"Group\").agg({\"Score\":[\"mean\", \"std\", \"min\", \"max\"]})\n\n\n\n\n\nControl = Ancova[Ancova['Group'] == 1]\nTreatment = Ancova[Ancova['Group'] == 2]\n\nfrom statsmodels.stats.weightstats import ttest_ind\nttest_ind(Control['Score'], Treatment['Score'], alternative='smaller', \n          usevar='pooled')\n\n\n\n\n\nimport statsmodels.formula.api as smf\nAncovaFit1 = smf.ols(formula = 'Score~Age+C(Group)+Age:C(Group)',\n                    data = Ancova).fit()\nAncovaFit.summary()\n\n---\n\n교제: 파이썬을 활용한 데이터 분석과 응용"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"python":"C:/Users/sinji/anaconda3/envs/py310/python.exe","engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../styles.css"],"toc":true,"output-file":"ADA10.2.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.8.26","preview":{"host":"0.0.0.0","port":7809,"watch-inputs":true,"navigate":true,"browser":true},"theme":["zephyr","cosmo","brand"],"title":"제 10장 분산분석: 이원분류 실습"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}